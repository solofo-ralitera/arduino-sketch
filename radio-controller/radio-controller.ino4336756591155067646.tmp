#include <U8glib.h>

#define BUTTON_PIN A0

// Text button
#define TEXT_BOTTOM_LEFT "aaa"
#define TEXT_BOTTOM_CENTER "acq"
#define TEXT_BOTTOM_RIGHT "bbb"

U8GLIB_SH1106_128X64 oled(4, 5, 6, 7);   // SW SPI Com: SCK = 4, MOSI = 5, CS = 6, A0 = 7
String oledStr1 = "Hello world !!!";
String oledStr2 = "";
String oledStr3 = "";

// Current activ item
short CurrentItem = 1;

// Button voltage
short U;

void oledDraw(const char *str, int x = 0, int y = 10) {
  // graphic commands to redraw the complete screen should be placed here
  //oled.setFont(u8g_font_5x7);
  //u8g.setFont(u8g_font_osb21);
  oled.drawStr( x, y, str);
}
void oledDraw(String str, int x = 0, int y = 10) {
  const char* tmp = (const char*) str.c_str();
  // graphic commands to redraw the complete screen should be placed here
  //oled.setFont(u8g_font_6x10);
  //u8g.setFont(u8g_font_osb21);
  oled.drawStr( x, y, tmp);
}

void setup() {
  // put your setup code here, to run once:
    // assign default color value
    if ( oled.getMode() == U8G_MODE_R3G3B2 ) {
      oled.setColorIndex(255);     // white
    }
    else if ( oled.getMode() == U8G_MODE_GRAY2BIT ) {
      oled.setColorIndex(3);         // max intensity
    }
    else if ( oled.getMode() == U8G_MODE_BW ) {
      oled.setColorIndex(1);         // pixel on
    }
    else if ( oled.getMode() == U8G_MODE_HICOLOR ) {
      oled.setHiColorByRGB(255, 255, 255);
    }
    oled.setFont(u8g_font_5x7);
    oled.setFontRefHeightExtendedText();
}

void loop() {
  // catch button
  U = analogRead(BUTTON_PIN);
  oledStr3 = (String) U;
  // BTN BOTTOM-LEFT
  if(U >= 505 && U <= 515) {
    oledStr2 = "BOTTOM-LEFT";
  }
  // BTN BOTTOM-CENTRE
  else if(U >= 813 && U <= 823) {
    oledStr2 = "BOTTOM-CENTRE";
  }
  // BTN BOTTOM-RIGHT
  else if(U >= 675 && U <= 685) {
    oledStr2 = "BOTTOM-RIGHT";
  }
  // BTN RIGHT-BOTTOM
  else if(U >= 762 && U <= 772) {
    oledStr2 = "RIGHT-BOTTOM";
  }
  // BTN RIGHT-TOP
  else if(U >= 847 && U <= 857) {
    oledStr2 = "RIGHT-TOP";
  }
  // BTN LEFT-TOP
  else if(U >= 1000 && U <= 500) {

  }
  
  //display
  oled.firstPage();
  do {
    // Main text
      // Top text (title)
    oledStr1.toUpperCase();
    oledDraw(".:: "+oledStr1+" ::.", 15, 10);
      // Second line
    oledDraw(oledStr2, 10, 20);
      // Third line
    oledDraw(oledStr3, 10, 28);

    // text for btn left
    oledDraw((String) CurrentItem, 0, 10);

    // text for btn bottom
    oledDraw(TEXT_BOTTOM_LEFT, 0, 63);
    oledDraw(TEXT_BOTTOM_CENTER, 57, 63);
    oledDraw(TEXT_BOTTOM_RIGHT, 114, 63);
    
  } while ( oled.nextPage() );  

}
